var bootbox=window.bootbox||(function(i){var g="en",h="en",a=true,j="static",d="javascript:;",f="",c={},k={};var b={en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"}};function e(m,l){if(l==null){l=g}if(typeof b[l][m]=="string"){return b[l][m]}if(l!=h){return e(m,h)}return m}k.setLocale=function(l){for(var m in b){if(m==l){g=l;return}}throw new Error("Invalid locale: "+l)};k.addLocale=function(l,m){if(typeof b[l]=="undefined"){b[l]={}}for(var n in m){b[l][n]=m[n]}};k.setIcons=function(l){c=l;if(typeof c!=="object"||c==null){c={}}};k.alert=function(){var n="",m=e("OK"),l=null;switch(arguments.length){case 1:n=arguments[0];break;case 2:n=arguments[0];if(typeof arguments[1]=="function"){l=arguments[1]}else{m=arguments[1]}break;case 3:n=arguments[0];m=arguments[1];l=arguments[2];break;default:throw new Error("Incorrect number of arguments: expected 1-3");break}return k.dialog(n,{label:m,icon:c.OK,callback:l},{onEscape:l})};k.confirm=function(){var o="",n=e("CANCEL"),m=e("CONFIRM"),l=null;switch(arguments.length){case 1:o=arguments[0];break;case 2:o=arguments[0];if(typeof arguments[1]=="function"){l=arguments[1]}else{n=arguments[1]}break;case 3:o=arguments[0];n=arguments[1];if(typeof arguments[2]=="function"){l=arguments[2]}else{m=arguments[2]}break;case 4:o=arguments[0];n=arguments[1];m=arguments[2];l=arguments[3];break;default:throw new Error("Incorrect number of arguments: expected 1-4");break}return k.dialog(o,[{label:n,icon:c.CANCEL,callback:function(){if(typeof l=="function"){l(false)}}},{label:m,icon:c.CONFIRM,callback:function(){if(typeof l=="function"){l(true)}}}])};k.prompt=function(){var p="",n=e("CANCEL"),m=e("CONFIRM"),l=null,s="";switch(arguments.length){case 1:p=arguments[0];break;case 2:p=arguments[0];if(typeof arguments[1]=="function"){l=arguments[1]}else{n=arguments[1]}break;case 3:p=arguments[0];n=arguments[1];if(typeof arguments[2]=="function"){l=arguments[2]}else{m=arguments[2]}break;case 4:p=arguments[0];n=arguments[1];m=arguments[2];l=arguments[3];break;case 5:p=arguments[0];n=arguments[1];m=arguments[2];l=arguments[3];s=arguments[4];break;default:throw new Error("Incorrect number of arguments: expected 1-5");break}var r=p;var o=i("<form></form>");o.append("<input autocomplete=off type=text value='"+s+"' />");var q=k.dialog(o,[{label:n,icon:c.CANCEL,callback:function(){if(typeof l=="function"){l(null)}}},{label:m,icon:c.CONFIRM,callback:function(){if(typeof l=="function"){l(o.find("input[type=text]").val())}}}],{header:r});q.on("shown",function(){o.find("input[type=text]").focus();o.on("submit",function(t){t.preventDefault();q.find(".btn-primary").click()})});return q};k.modal=function(){var o;var n;var m;var l={onEscape:null,keyboard:true,backdrop:j};switch(arguments.length){case 1:o=arguments[0];break;case 2:o=arguments[0];if(typeof arguments[1]=="object"){m=arguments[1]}else{n=arguments[1]}break;case 3:o=arguments[0];n=arguments[1];m=arguments[2];break;default:throw new Error("Incorrect number of arguments: expected 1-3");break}l.header=n;if(typeof m=="object"){m=i.extend(l,m)}else{m=l}return k.dialog(o,[],m)};k.dialog=function(x,w,p){var l=null,B="",E=[],p=p||{};if(w==null){w=[]}else{if(typeof w.length=="undefined"){w=[w]}}var z=w.length;while(z--){var t=null,A=null,n=null,C="",q=null;if(typeof w[z]["label"]=="undefined"&&typeof w[z]["class"]=="undefined"&&typeof w[z]["callback"]=="undefined"){var D=0,r=null;for(var y in w[z]){r=y;if(++D>1){break}}if(D==1&&typeof w[z][y]=="function"){w[z]["label"]=r;w[z]["callback"]=w[z][y]}}if(typeof w[z]["callback"]=="function"){q=w[z]["callback"]}if(w[z]["class"]){n=w[z]["class"]}else{if(z==w.length-1&&w.length<=2){n="btn-primary"}}if(w[z]["label"]){t=w[z]["label"]}else{t="Option "+(z+1)}if(w[z]["icon"]){C="<i class='"+w[z]["icon"]+"'></i> "}if(w[z]["href"]){A=w[z]["href"]}else{A=d}B+="<a data-handler='"+z+"' class='btn "+n+"' href='"+A+"'>"+C+""+t+"</a>";E[z]=q}var v=["<div class='bootbox modal' style='overflow:hidden;'>"];if(p.header){var m="";if(typeof p.headerCloseButton=="undefined"||p.headerCloseButton){m="<a href='"+d+"' class='close'>&times;</a>"}v.push("<div class='modal-header'>"+m+"<h3>"+p.header+"</h3></div>")}v.push("<div class='modal-body'></div>");if(B){v.push("<div class='modal-footer'>"+B+"</div>")}v.push("</div>");var u=i(v.join("\n"));var s=(typeof p.animate==="undefined")?a:p.animate;if(s){u.addClass("fade")}var o=(typeof p.classes==="undefined")?f:p.classes;if(o){u.addClass(o)}i(".modal-body",u).html(x);u.bind("hidden",function(){u.remove()});u.bind("hide",function(){if(l=="escape"&&typeof p.onEscape=="function"){p.onEscape()}});i(document).bind("keyup.modal",function(F){if(F.which==27){l="escape"}});u.bind("shown",function(){i("a.btn-primary:last",u).focus()});u.on("click",".modal-footer a, a.close",function(I){var G=i(this).data("handler"),F=E[G],H=null;if(typeof G!=="undefined"&&typeof w[G]["href"]!=="undefined"){return}I.preventDefault();if(typeof F=="function"){H=F()}if(H!==false){l="button";u.modal("hide")}});if(p.keyboard==null){p.keyboard=(typeof p.onEscape=="function")}i("body").append(u);u.modal({backdrop:(typeof p.backdrop==="undefined")?j:p.backdrop,keyboard:p.keyboard});return u};k.hideAll=function(){i(".bootbox").modal("hide")};k.animate=function(l){a=l};k.backdrop=function(l){j=l};k.classes=function(l){f=l};return k})(window.jQuery);